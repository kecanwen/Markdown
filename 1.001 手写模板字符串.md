要使用原生JavaScript编写一个函数来实现模板字符串的功能，你可以使用字符串的replace()方法结合正则表达式来实现。下面是一个示例函数：

```javascript
function renderTemplate(template, data) {
  return template.replace(/\${(.*?)}/g, (match, p1) => {
    const key = p1.trim();
    return data[key] || '';
  });
}
```

在上面的函数中，我们使用了replace()方法和正则表达式`/\${(.*?)}/g`来匹配模板字符串中的占位符。占位符的形式是`${key}`，其中`key`是要替换的变量名。

函数的第一个参数是模板字符串，第二个参数是一个包含变量和对应值的对象。函数使用replace()方法将模板字符串中的占位符替换为相应的值。

下面是一个使用示例：

```javascript
const template = 'Hello, my name is ${name} and I am ${age} years old.';
const data = {
  name: 'John',
  age: 30
};

const result = renderTemplate(template, data);
console.log(result);
// 输出：Hello, my name is John and I am 30 years old.
```

在上面的示例中，我们定义了一个模板字符串`template`和一个包含变量和值的对象`data`。然后，我们调用`renderTemplate()`函数将模板字符串中的占位符`${name}`和`${age}`替换为相应的值。最后，将替换后的字符串打印到控制台。

在函数`renderTemplate()`中，`p1`是通过正则表达式的捕获组来获取的。正则表达式`/\${(.*?)}/g`中的`(.*?)`表示一个非贪婪匹配，它会匹配模板字符串中的占位符`${}`中的内容，并将其作为匹配的第一个捕获组。

在`template.replace()`方法的回调函数中，第一个参数`match`是匹配到的完整字符串，第二个参数`p1`则是捕获组中的内容。回调函数会针对每个匹配项被调用一次，所以`p1`会依次获取每个占位符中的内容。

接下来，函数使用`p1.trim()`方法去除`p1`中的空格，以确保获取到的变量名是没有额外空白的。然后，它使用`data[key]`来获取`data`对象中对应变量名的值。如果找不到对应的值，则返回空字符串。

这样，通过使用正则表达式的捕获组，函数可以获取模板字符串中占位符中的变量名，并使用`data`对象中对应的值进行替换。

希望这解答了你的疑问。如果还有其他问题，请随时提问。

1. `/`：正则表达式的开始标记。
2. `\${`：匹配字符串中的`${`，`${`是模板字符串中的占位符的开始标记。需要使用转义字符`\`来匹配`${`。
3. `(.*?)`：这是一个非贪婪匹配的捕获组，用于匹配占位符中的内容。`.*?`表示匹配任意字符（除换行符外）任意次，尽可能少地匹配。这样可以确保捕获组不会跨越多个占位符。
4. `}`：匹配占位符的结束标记。
5. `/`：正则表达式的结束标记。
6. `g`：全局标志，表示匹配所有符合条件的项，而不仅仅是第一个匹配项。

综合起来，正则表达式`/\${(.*?)}/g`用于匹配模板字符串中的占位符`${}`，并捕获其中的内容。